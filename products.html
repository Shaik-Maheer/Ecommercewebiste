<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Products</title>
    <style>
      /* General Styles */
      header {
        font-weight: bolder;
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
        align-items: center;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      }

      ul {
        display: flex;
        gap: 50px;
      }

      ul li {
        list-style: none;
      }

      ul li a {
        text-decoration: none;
        font-size: 30px;
        transition: color 0.3s ease;
        color: #ff6347;
      }

      ul li a:hover {
        color: black;
        border-bottom: 3px solid #ff6347;
      }

      header img {
        height: 140px;
        width: 160px;
      }

      .first {
        text-align: center;
        font-size: 30px;
      }

      /* Products Section */
      .outside {
        display: flex;
        justify-content: center;
        align-items: flex-start;
        margin: 20px 0;
      }

      .inside-products {
        border: 1px solid #ddd;
        border-radius: 8px;
        padding: 16px;
        text-align: center;
        width: 300px;
        transition: box-shadow 0.3s;
      }

      .inside-products:hover {
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      }

      .inside-products img {
        max-width: 100%;
        height: 300px;
        border-radius: 8px;
        width: 200px;
        transition: transform 0.2s ease;
      }

      .inside-products img:hover {
        transform: scale(1.14);
        cursor: zoom-in;
      }

      .title {
        font-size: 24px;
        margin: 10px 0;
      }

      .prize {
        font-size: 20px;
        color: #ff6347;
        margin: 10px 0;
      }

      .product-details {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-weight: bolder;
      }

      .rating {
        font-size: 18px;
        margin-right: 5px;
      }

      .star {
        width: 20px;
        height: auto;
      }

      .add-to-cart {
        background-color: #ff6347;
        color: white;
        border: none;
        border-radius: 5px;
        padding: 10px 20px;
        font-size: 16px;
        cursor: pointer;
        transition: background-color 0.3s;
      }

      .add-to-cart:hover {
        background-color: #0c0b0b;
        color: #e5533a;
      }

      .outside-container {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 20px;
      }

      /* Filter Section */
      main {
        display: flex;
        justify-content: center;
      }

      /* Footer */
      .footer {
        margin-top: 50px;
        background-color: #333;
        color: #fff;
        padding: 40px 20px;
        text-align: center;
        bottom: 0;
      }

      .footer .row {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
        margin-bottom: 20px;
      }

      .footer-col-1,
      .footer-col-2,
      .footer-col-4 {
        flex: 1;
        margin: 10px;
      }

      .footer-col-1 h3,
      .footer-col-4 h3 {
        margin-bottom: 20px;
        font-size: 30px;
      }

      .footer-col-1 p,
      .footer-col-2 p,
      .footer-col-4 ul {
        font-size: 24px;
        line-height: 1.5;
      }

      .app-logo img {
        margin-right: 10px;
      }

      .footer-col-4 ul {
        list-style: none;
        padding: 0;
      }

      .footer-col-4 ul li {
        margin: 10px 0;
      }

      .footer hr {
        border: 1px solid #555;
        margin: 20px 0;
      }

      .copyright {
        font-size: 40px;
      }

      .footer-col-4 ul li a:hover {
        color: white;
      }

      /* Images */
      .all-images {
        display: flex;
        flex-direction: column;
        gap: 20px;
        border: 1px solid #ccc;
      }

      .all-images img {
        height: 490px;
        width: 280px;
        margin: 10px;
        opacity: 1;
        animation: fade 3s infinite;
      }

      @keyframes fade {
        0% {
          opacity: 0;
        }
        50% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }

      /* Dynamic Text */
      .dynamic-text {
        font-size: 24px;
        animation: scroll 4s ease-in infinite;
        font-weight: bold;
      }

      @keyframes scroll {
        0% {
          transform: translateX(40%);
        }
        50% {
          transform: translateX(-35%);
          color: #ff6347;
        }
        100% {
          transform: translateX(-100%);
        }
      }

      /* Media Queries for Responsiveness */
      @media (max-width: 1024px) {
        header {
          flex-direction: column;
          align-items: flex-start;
        }

        ul {
          flex-direction: column;
          gap: 20px;
          align-items: flex-start;
        }

        .inside-products {
          width: 250px;
          padding: 12px;
        }

        .footer .row {
          flex-direction: column;
          align-items: center;
        }

        .footer-col-1,
        .footer-col-2,
        .footer-col-4 {
          margin: 10px 0;
        }

        .all-images img {
          width: 100%;
          height: auto;
        }

        .dynamic-text {
          font-size: 20px;
        }

        #search-input {
          width: 250px;
        }

        .outside-container {
          flex-direction: column;
          gap: 15px;
        }
      }

      @media (max-width: 768px) {
        ul {
          display: flex;
          flex-direction: row; /* Keep the navigation links inline */
          justify-content: center;
          gap: 20px; /* Adjust gap between the items */
          padding: 0;
        }

        header {
          padding: 10px;
        }

        .inside-products {
          width: 220px;
          padding: 12px;
        }

        .all-images img {
          width: 100%;
          height: 300px;
        }

        .dynamic-text {
          font-size: 18px;
        }

        #search-input {
          width: 200px;
        }

        .add-to-cart {
          font-size: 14px;
          padding: 8px 16px;
        }
      }

      @media (max-width: 480px) {
        ul {
          gap: 20px;
          font-size: 18px;
        }

        header {
          padding: 5px;
        }

        .inside-products {
          width: 200px;
          padding: 10px;
        }

        .all-images img {
          width: 100%;
          height: 250px;
        }

        .dynamic-text {
          font-size: 16px;
        }

        #search-input {
          width: 180px;
        }

        .add-to-cart {
          font-size: 14px;
          padding: 6px 14px;
        }

        .footer .row {
          flex-direction: column;
          align-items: center;
        }

        .footer-col-1,
        .footer-col-2,
        .footer-col-4 {
          margin: 10px 0;
          text-align: center;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <div>
        <img src="logo.png" alt="" class="img1" />
      </div>
      <div>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="products.html">Products</a></li>
          <li><a href="blog.html">Blog</a></li>
          <li><a href="cart.html">Cart</a></li>
        </ul>
      </div>
    </header>

    <main>
      <article class="all-images">
        <img
          src="https://i.pinimg.com/236x/39/4a/eb/394aeb9a6e7dd419e761a539977e484b.jpg"
          alt=""
        />
        <div class="dynamic-text">Timeless pieces, just for you... ‚åõ‚ú®</div>
        <img
          src="https://i.pinimg.com/236x/17/f2/d2/17f2d288c89fe816fb93d63b150b77a5.jpg"
          alt=""
        />
        <div class="dynamic-text">Choose sustainable fashion... üå±üëó</div>
        <img
          src="https://i.pinimg.com/236x/3b/79/43/3b7943e5d05d4ed9aeddac0aa60fd5e8.jpg"
          alt=""
        />
        <div class="dynamic-text">Shine with radiant jewelry...üíé‚ú®</div>
        <img
          src="https://i.pinimg.com/236x/05/3a/29/053a29c56aab6749884d2b7810821d8a.jpg"
          alt=""
        />
        <div class="dynamic-text">Upgrade your home with ease....üè°üîß</div>
        <img
          src="https://i.pinimg.com/236x/00/41/46/004146cbde45971d28a25bc49197ee61.jpg"
          alt=""
        />
        <div class="dynamic-text">Shine with radiant jewelry... ‚öôÔ∏èüöÄ</div>

        <img
          src="https://i.pinimg.com/236x/85/2f/b4/852fb4b9a4f57adc2dc09ddc16dde3d9.jpg"
          alt=""
        />
        <div class="dynamic-text">Stay ahead with innovative tools....üè†üí°</div>
        <img
          src="https://i.pinimg.com/236x/2a/22/89/2a228924f6de749cb4308138e3f7201a.jpg"
          alt=""
        />
        <div class="dynamic-text">Embrace the future of living!...üåüüîÆ</div>
      </article>
      <article class="first">
        <h1>Exclusive Prime Deals</h1>
        <div class="search-container">
          <input
            type="text"
            id="search-input"
            placeholder="Search for products..."
          />
          <button id="search-button">Search</button>
        </div>
        <div class="outside-container" id="products-container"></div>
      </article>
    </main>
    <footer class="footer">
      <div class="row">
        <div class="footer-col-1">
          <h3>Download Our App</h3>
          <p>Download App for Android and ios mobile phone.</p>
          <div class="app-logo">
            <img src="googleplay.png" alt="playstore" width="110px" />
            <img src="apple.png" alt="appstore" width="100px" />
          </div>
        </div>
        <div class="footer-col-2">
          <img src="logo.png" alt="logo" />
          <p>
            Our Purpose Is To Sustainably Make the pleasure and Benefits of
            Sports Accessible to the Many.
          </p>
        </div>
        <div class="footer-col-4">
          <h3>Follow Us</h3>
          <ul>
            <li><a href="https://www.facebook.com/">Facebook</a></li>
            <li><a href="https://www.instagram.com/">Instagram</a></li>
            <li><a href="https://in.pinterest.com/">pinterest</a></li>
            <li><a href="https://x.com/?lang=en">twitter</a></li>
          </ul>
        </div>
      </div>
      <hr />
      <p class="copyright">Copyright ¬© 2024 - Easy Tutorials</p>
    </footer>
    <script>
      let allProducts = []; // Store all fetched products
      let cart = []; // Store cart items

      // Fetch products from the API and display them
      async function fetchProducts() {
        try {
          const response = await fetch("https://fakestoreapi.com/products");
          const products = await response.json();
          allProducts = products; // sstore the fetched products..
          displayProducts(products); // display all products initially...
        } catch (error) {
          console.error("Error fetching products:", error);
        }
      }

      // Display products dynamically
      function displayProducts(products) {
        const productsContainer = document.getElementById("products-container");
        productsContainer.innerHTML = ""; // Clear previous results

        products.forEach((product) => {
          const productDiv = document.createElement("div");
          productDiv.className = "inside-products";

          // Create color and size options if the product category includes "clothing"
          const isClothing = product.category
            .toLowerCase()
            .includes("clothing");

          productDiv.innerHTML = `
      <img src="${product.image}" alt="${product.title}" />
      <h1 class="title">${
        product.title.length > 15
          ? product.title.substring(0, 15).concat("....")
          : product.title
      }</h1>
      <div class="last-end">
        <div class="product-details">
          <p class="prize">$${product.price.toFixed(2)}</p>
          <p class="rating">${product.rating.rate} (${
            product.rating.count
          } reviews)</p>
        </div>
        
        <!-- Hidden section for color and size for clothing items -->
        ${
          isClothing
            ? `
          <div class="hidden-variants" style="display: none;">
            <div class="variants">
              <label for="color-${product.id}">Color:</label>
              <select id="color-${product.id}">
                <option value="Red">Red</option>
                <option value="Blue">Blue</option>
                <option value="Green">Green</option>
                <option value="Black">Black</option>
              </select>

              <label for="size-${product.id}">Size:</label>
              <select id="size-${product.id}">
                <option value="S">S</option>
                <option value="M">M</option>
                <option value="L">L</option>
                <option value="XL">XL</option>
              </select>
            </div>
          </div>
        `
            : ""
        }

        <button 
         class="add-to-cart"
          data-id="${product.id}"
          data-title="${product.title}"
          data-price="${product.price}"
          data-image="${product.image}"
          data-description="${product.description}"
          data-rating="${product.rating.rate}"
          data-reviews="${product.rating.count}">
          Add to Cart
        </button>
      </div>
    `;

          productsContainer.appendChild(productDiv);
        });

        const addToCartButtons = document.querySelectorAll(".add-to-cart");
        addToCartButtons.forEach((button) => {
          button.addEventListener("click", addToCart);
        });
      }

      function addToCart(event) {
        const button = event.target;
        // console.log(button);
        const productId = button.getAttribute("data-id");
        const productTitle = button.getAttribute("data-title");
        const productPrice = parseFloat(button.getAttribute("data-price"));
        const productImage = button.getAttribute("data-image");
        const productDescription = button.getAttribute("data-description");
        const productRating = button.getAttribute("data-rating");
        const productReviews = button.getAttribute("data-reviews");
        console.log(productId);
        console.log(productReviews, productDescription);

        // checking if laready present or not
        const cartItemIndex = cart.findIndex((item) => item.id === productId);

        if (cartItemIndex >= 0) {
          cart[cartItemIndex].quantity += 1;
        } else {
          const newCartItem = {
            id: productId,
            title: productTitle,
            price: productPrice,
            quantity: 1,
            image: productImage,
            description: productDescription,
            rating: productRating,
            reviews: productReviews,
          };
          cart.push(newCartItem);
        }

        localStorage.setItem("cart", JSON.stringify(cart));

        alert(`${productTitle} added to cart.`);
      }

      function searchProducts() {
        const searchValue = document
          .getElementById("search-input")
          .value.toLowerCase();
        const filteredProducts = allProducts.filter((product) =>
          product.category.toLowerCase().includes(searchValue)
        );
        displayProducts(filteredProducts);
      }

      document
        .getElementById("search-button")
        .addEventListener("click", searchProducts);
      document.addEventListener("DOMContentLoaded", fetchProducts);
    </script>
  </body>
</html>
